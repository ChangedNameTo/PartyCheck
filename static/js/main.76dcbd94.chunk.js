(this["webpackJsonpparty-check"]=this["webpackJsonpparty-check"]||[]).push([[0],{177:function(e,t,n){e.exports=n(326)},182:function(e,t,n){},326:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(36),c=n.n(r),i=(n(182),n(342)),o=n(333),u=n(327),s=n(37);var f=function(){return l.a.createElement(i.a,{inverted:!0,raised:!0,vertical:!0,style:{width:"100%",height:"60px",position:"fixed",bottom:0}},l.a.createElement(o.a,{textAlign:"center"},l.a.createElement(u.a,{color:"black",icon:!0,inverted:!0,labelPosition:"left",href:"https://github.com/ChangedNameTo/PartyCheck"},l.a.createElement(s.a,{name:"github"}),"View on Github"),l.a.createElement(u.a,{color:"blue",inverted:!0,icon:!0,labelPosition:"left",href:"https://www.linkedin.com/in/will--mitch/"},l.a.createElement(s.a,{name:"linkedin"}),"Find me on LinkedIn")))},m=n(38),g=n(51),h=n(52),b=n(18),E=n(341),d=n(336),p=n(343),j=n(338),v=n(340),O=n(334);var k=function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),r=n[0],c=n[1];return l.a.createElement(a.Fragment,null,l.a.createElement(j.a.Row,null,l.a.createElement(j.a.Cell,null,e.name),l.a.createElement(j.a.Cell,null),l.a.createElement(j.a.Cell,null,e.fights.length),l.a.createElement(j.a.Cell,{id:"percentage"},e.percentage,"%"),l.a.createElement(j.a.Cell,null,l.a.createElement(u.a,{key:e.name,onClick:function(){c(!r)},fluid:!0,id:"showFightsButton"},"Show Fights ",r?l.a.createElement(s.a,{name:"angle double up"}):l.a.createElement(s.a,{name:"angle double down"})))),function(){if(r)return e.fights.map((function(e,t){var n=new Date(e.realtime).toDateString();return l.a.createElement(j.a.Row,null,l.a.createElement(j.a.Cell,{textAlign:"right"},n),l.a.createElement(j.a.Cell,{id:"job"},e.job),l.a.createElement(j.a.Cell,null,e.zoneName),l.a.createElement(j.a.Cell,null,e.bossPercentage/100,"%"),l.a.createElement(j.a.Cell,null))}))}())};var C=function(e){var t=Object(a.useState)("pulls"),n=Object(b.a)(t,2),r=n[0],c=n[1],u=Object(a.useState)("descending"),s=Object(b.a)(u,2),f=s[0],m=s[1],g=function(e){r!==e?(c(e),m(f)):m("ascending"===f?"descending":"ascending")},h=function(t,n){return[].concat(e.allies).sort((function(e,t){return e[n]-t[n]}))},E="ascending"===f?h(e.allies,r):h(e.percentage,r).reverse();return l.a.createElement(o.a,null,l.a.createElement(j.a,{compact:!0,celled:!0,sortable:!0},l.a.createElement(j.a.Header,null,l.a.createElement(j.a.Row,null,l.a.createElement(j.a.HeaderCell,null,"Name"),l.a.createElement(j.a.HeaderCell,null,"Job"),l.a.createElement(j.a.HeaderCell,{sorted:"pulls"===r?f:null,onClick:function(){return g("pulls")}},"# Pulls"),l.a.createElement(j.a.HeaderCell,{sorted:"percentage"===r?f:null,onClick:function(){return g("percentage")}},"Avg. Boss % (0 is a kill)"),l.a.createElement(j.a.HeaderCell,null,"Actions"))),l.a.createElement(j.a.Body,null,E.length>0&&null!==e.allies?E.map((function(e){return l.a.createElement(k,{key:e.name,name:e.name,pulls:e.pulls,fights:e.fights,percentage:e.percentage})})):null!==e.allies?l.a.createElement(j.a.Row,null,l.a.createElement(j.a.Cell,{colSpan:"5"},l.a.createElement(i.a,null,l.a.createElement(v.a,{active:!0},l.a.createElement(O.a,null))))):void 0)))},y=n(335);var w=function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),r=n[0],c=n[1],i=function(e){e!==r&&c(e.value)};return l.a.createElement("div",null,l.a.createElement(y.a,{fluid:!0,action:{color:"green",labelPosition:"left",icon:"search",content:"Search",onClick:function(){return e.onClick(r)}},onChange:function(e,t){return i(t)},icon:"search",iconPosition:"left",name:"fflogslink",placeholder:"Enter your FFLogs Username"}))};var S=function(e){return l.a.createElement(o.a,null,l.a.createElement(u.a,{onClick:e.onClick,fluid:!0},"Options ",e.visible?l.a.createElement(s.a,{name:"angle double up"}):l.a.createElement(s.a,{name:"angle double down"})))},F=n(344),x=n(339);var P=function(e){var t=function(t){t!==e.options.kills&&e.setOptions({fights:e.options.fights,jobs:e.options.jobs,kills:t})};return e.visible?l.a.createElement(p.a,null,l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:5},l.a.createElement(i.a.Group,{vertical:"true"},l.a.createElement(i.a,null,l.a.createElement(F.a,{as:"h4"},"Fights")),l.a.createElement(i.a,null,l.a.createElement(x.a,{placeholder:"Fight Names",id:"fightFilterSelect",fluid:!0,multiple:!0,selection:!0,search:!0,onChange:function(t,n){return function(t){t!==e.options.fights&&e.setOptions({fights:t,jobs:e.options.jobs,kills:e.options.kills})}(n)},options:e.fightChoices})))),l.a.createElement(p.a.Column,{width:6},l.a.createElement(i.a.Group,{vertical:"true"},l.a.createElement(i.a,null,l.a.createElement(F.a,{as:"h4"},"Jobs")),l.a.createElement(i.a,null,l.a.createElement(x.a,{placeholder:"Job Names",id:"jobFilterSelect",fluid:!0,multiple:!0,search:!0,selection:!0,onChange:function(t,n){return function(t){t!==e.options.jobs&&e.setOptions({fights:e.options.fights,jobs:t,kills:e.options.kills})}(n)},options:e.jobChoices})))),l.a.createElement(p.a.Column,{width:5},l.a.createElement(i.a.Group,{vertical:"true"},l.a.createElement(i.a,null,l.a.createElement(F.a,{as:"h4"},"Kills")),l.a.createElement(i.a,null,l.a.createElement(u.a.Group,null,l.a.createElement(u.a,{color:0===e.options.kills?"green":"grey",onClick:function(){return t(0)}},"Kills"),l.a.createElement(u.a.Or,null),l.a.createElement(u.a,{color:1===e.options.kills?"yellow":"grey",onClick:function(){return t(1)}},"All"),l.a.createElement(u.a.Or,null),l.a.createElement(u.a,{color:2===e.options.kills?"red":"grey",onClick:function(){return t(2)}},"Wipes"))))))):l.a.createElement(a.Fragment,null)},A=n(305).default,N="57867123b1f24ca0a00384cdb92cc4c7";var R=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),u=Object(b.a)(c,2),s=u[0],f=u[1],j=Object(a.useState)(null),v=Object(b.a)(j,2),O=v[0],k=v[1],y=Object(a.useState)(!1),F=Object(b.a)(y,2),x=F[0],R=F[1],H=Object(a.useState)(!1),B=Object(b.a)(H,2),G=B[0],I=B[1],J=Object(a.useState)({fights:[],jobs:[],kills:1}),L=Object(b.a)(J,2),M=L[0],W=L[1],z=Object(a.useState)([]),_=Object(b.a)(z,2),D=_[0],K=_[1],T=Object(a.useState)([]),V=Object(b.a)(T,2),q=V[0],U=V[1],Y=Object(a.useState)([]),$=Object(b.a)(Y,2),Q=$[0],X=$[1];return Object(a.useEffect)((function(){n&&A.get("https://www.fflogs.com/v1/reports/user/".concat(n,"?api_key=").concat(N)).then((function(e){f(e)})).catch((function(e){console.log(e),f(null),R(!0)}))}),[n]),Object(a.useEffect)((function(){if(O){var e=function(e){if(Array.isArray(e))return e;var t=Object.keys(e).reduce((function(t,n){return[].concat(Object(m.a)(t),Object(m.a)(e[n].reduce((function(e,t){return[].concat(Object(m.a)(e),Object(m.a)(t.fights.map((function(e){return e.zoneName}))))}),[])))}),[]).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(e,t,n){return e.includes("(Savage)")||e.includes("(Extreme)")})).map((function(e){return{key:e,text:e,value:e}}));U(t);var n={};return Object.keys(e).filter((function(t){var a=e[t].filter((function(e){if(!(M.fights.value&&M.fights.value.length>0))return e;var t={fights:e.fights.filter((function(e){return-1!==M.fights.value.indexOf(e.zoneName)})),job:e.job};return t.fights.length>0?t:void 0}));a.length>0&&(n[t]=a)})),n},t=function(t){delete t["Limit Break"],delete t["Multiple Players"],delete t["Ground Effect"];var n=function(e){if(Array.isArray(e))return e;var t=Object.keys(e).reduce((function(t,n){return[].concat(Object(m.a)(t),Object(m.a)(e[n].map((function(e){return e.job}))))}),[]).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return{key:e,text:e,value:e}}));X(t);var n={};return Object.keys(e).filter((function(t){var a=e[t].filter((function(e){return M.jobs.value&&M.jobs.value.length>0?-1!==M.jobs.value.indexOf(e.job)?e:void 0:e}));return a.length>0&&(n[t]=a),null})),n}(t);return function(e){if(Array.isArray(e))return e;var t={};return Object.keys(e).filter((function(n){var a=e[n].map((function(e){var t={fights:e.fights.filter((function(e){return 0!==e.boss})),job:e.job};if(t.fights.length>0)return t}));-1===a.indexOf(void 0)&&(t[n]=a)})),t}(function(e){if(Array.isArray(e))return e;var t={};return Object.keys(e).filter((function(n){var a=e[n].map((function(e){if(0===M.kills){var t={fights:e.fights.filter((function(e){return 0===e.bossPercentage})),job:e.job};if(t.fights.length>0)return t}else{if(1===M.kills)return e;var n={fights:e.fights.filter((function(e){return 0!==e.bossPercentage})),job:e.job};if(n.fights.length>0)return n}}));-1===a.indexOf(void 0)&&(t[n]=a)})),t}(e(n)))},n=function(e){var n=function(e){return e.flatMap((function(e){return e.friendlies.reduce((function(t,n){return Object(h.a)({},t,Object(g.a)({},n.name,{fights:n.fights.map((function(t){var n=t.id;return Object(h.a)({},e.fights[n-1],{realtime:e.start+e.fights[n-1].start_time})})),job:n.type}))}),{})})).reduce((function(e,t){return Object.keys(t).reduce((function(e,n){return Object(h.a)({},e,Object(g.a)({},n,(e[n]||[]).concat(t[n])))}),e)}),{})}(e),a=function(e){return Object.keys(e).reduce((function(t,n){return Object(h.a)({},t,Object(g.a)({},n,e[n].flatMap((function(e){return e.fights.map((function(t){return Object(h.a)({},t,{job:e.job})}))}))))}),{})}(t(n));return Object.keys(a).map((function(e){return{name:e,fights:a[e],percentage:a[e].reduce((function(e,t,n,a){return e+(isNaN(parseInt(t.bossPercentage))?0:parseInt(t.bossPercentage))/100/a.length}),0).toFixed(2),pulls:a[e].length}}))}(O);K(n)}}),[O,K,M]),Object(a.useEffect)((function(){s&&s.data&&Promise.all(s.data.filter((function(e){return"Eden's Verse"===e.title||"Trials (Extreme)"===e.title})).map((function(e){return A.get("https://www.fflogs.com/v1/report/fights/".concat(e.id,"?api_key=").concat(N))}))).then((function(e){var t=e.flatMap((function(e){return e.data}));k(t)}))}),[s]),l.a.createElement(a.Fragment,null,l.a.createElement("br",null),l.a.createElement(o.a,null,l.a.createElement(i.a,null,l.a.createElement(p.a,null,l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,null,l.a.createElement(w,{onClick:function(e){return r(e)}}))),l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,null,l.a.createElement(S,{visible:G,onClick:function(){return I(!G)}}))),l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{centered:"true"},l.a.createElement(P,{visible:G,reports:s,options:M,fightChoices:q,jobChoices:Q,setOptions:function(e){return W(e)}})))))),l.a.createElement("br",null),!x&&O?l.a.createElement(C,{allies:D}):x?l.a.createElement(o.a,null,l.a.createElement(E.a,{error:!0},"You need to enter a valid FFLogs username.")):l.a.createElement(o.a,null,l.a.createElement(E.a,null,l.a.createElement(E.a.Header,{as:"h4"},"Welcome to PartyCheck!"),l.a.createElement("p",null,"Please enter a valid FFLogs username."),l.a.createElement(d.a,null),l.a.createElement("p",null,"After having a lot of issues clearing e5s, I started to notice the same people in parties over and over, and wanted a quick way to look through my logs to find them. Please do not use this site for harassment, it is purely for reference."))),l.a.createElement("br",null))};n(322).config();var H=function(){return l.a.createElement(a.Fragment,null,l.a.createElement(R,null),l.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(325);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[177,1,2]]]);
//# sourceMappingURL=main.76dcbd94.chunk.js.map